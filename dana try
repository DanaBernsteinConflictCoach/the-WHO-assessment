// My WHO Thoughts Assessment™
// Single-file React app (App.jsx)
// Stack: React + TailwindCSS (assumed available)

import { useState } from "react";

const steps = [
  "Welcome",
  "Define WHO",
  "Start",
  "Values Discover",
  "Values Select",
  "Values Road Test",
  "Pillars Discover",
  "Pillars Road Test",
  "Internal Conflict",
  "Ideal Emotion",
  "Trigger",
  "WHO Snapshot",
  "Next Steps"
];

export default function App() {
  const [step, setStep] = useState(0);
  const [fontScale, setFontScale] = useState(1);

  const next = () => setStep((s) => Math.min(s + 1, steps.length - 1));
  const back = () => setStep((s) => Math.max(s - 1, 0));

  return (
    <div className="min-h-screen bg-white text-gray-800" style={{ fontSize: `${fontScale}em` }}>
      <Header step={step} fontScale={fontScale} setFontScale={setFontScale} />

      <main className="max-w-3xl mx-auto px-6 py-10">
        {renderStep(step)}
      </main>

      <Footer step={step} back={back} next={next} />
    </div>
  );
}

function Header({ step, fontScale, setFontScale }) {
  const progress = ((step + 1) / steps.length) * 100;

  return (
    <header className="sticky top-0 bg-white border-b z-10">
      <div className="max-w-5xl mx-auto px-6 py-4 flex items-center justify-between">
        <div>
          <h1 className="text-xl font-semibold">My WHO Thoughts Assessment™</h1>
          <p className="text-sm text-gray-500">Define Your WHO • Quick clarity. No fluff.</p>
        </div>
        <div className="flex items-center gap-3">
          <button onClick={() => setFontScale(Math.max(0.9, fontScale - 0.1))}>A−</button>
          <button onClick={() => setFontScale(Math.min(1.3, fontScale + 0.1))}>A+</button>
        </div>
      </div>
      <div className="h-1 bg-gray-200">
        <div className="h-1 bg-gray-700 transition-all" style={{ width: `${progress}%` }} />
      </div>
    </header>
  );
}

function Footer({ step, back, next }) {
  return (
    <footer className="border-t py-6">
      <div className="max-w-3xl mx-auto px-6 flex justify-between items-center">
        <button onClick={back} disabled={step === 0} className="text-sm">
          Back
        </button>
        <span className="text-xs text-gray-500">© {new Date().getFullYear()} My WHO Thoughts Assessment™</span>
        <button onClick={next} disabled={step === steps.length - 1} className="text-sm">
          Next
        </button>
      </div>
    </footer>
  );
}

function renderStep(step) {
  switch (step) {
    case 0:
      return <Welcome />;
    case 1:
      return <DefineWHO />;
    case 2:
      return <Start />;
    case 3:
      return <ValuesDiscover />;
    case 4:
      return <ValuesSelect />;
    case 5:
      return <ValuesRoadTest />;
    case 6:
      return <PillarsDiscover />;
    case 7:
      return <PillarsRoadTest />;
    case 8:
      return <InternalConflict />;
    case 9:
      return <IdealEmotion />;
    case 10:
      return <Trigger />;
    case 11:
      return <Snapshot />;
    case 12:
      return <NextSteps />;
    default:
      return null;
  }
}

/* ---- STEP COMPONENTS ---- */

function Section({ title, children }) {
  return (
    <section className="space-y-6">
      <h2 className="text-2xl font-semibold">{title}</h2>
      {children}
    </section>
  );
}

function Welcome() {
  return (
    <Section title="Welcome">
      <p>
        Thank you for taking the WHO Thoughts Assessment™. This is an invitation to reconnect
        with your Values, lead from your best self, and recognize the thoughts that quietly pull
        you off course.
      </p>
      <p>
        When your nervous system is regulated, you respond instead of react. Self-command isn’t
        perfection — it’s awareness.
      </p>
      <p className="italic">— Dana Lynn Bernstein, PMP, PCC</p>
    </Section>
  );
}

function DefineWHO() {
  return (
    <Section title="Define Your WHO">
      <ul className="list-disc pl-5 space-y-2">
        <li><strong>Values</strong> — your guardrails</li>
        <li><strong>Pillars</strong> — your energy source</li>
        <li><strong>Ideal Emotion</strong> — your compass</li>
        <li><strong>Trigger</strong> — your warning signal</li>
      </ul>
      <p>Conflict happens when you believe your WHO has been threatened.</p>
    </Section>
  );
}

function Start() {
  return (
    <Section title="Start">
      <input placeholder="Your name" className="w-full border p-2 rounded" />
      <input placeholder="Your email (optional)" className="w-full border p-2 rounded" />
      <button className="mt-4 border px-4 py-2 rounded">Email my results</button>
    </Section>
  );
}

function ValuesDiscover() {
  return (
    <Section title="Step 1 of 6: Values — Discover">
      <textarea className="w-full border p-3 rounded" placeholder="Proudest moment..." />
      <textarea className="w-full border p-3 rounded" placeholder="Why were you proud?" />
      <textarea className="w-full border p-3 rounded" placeholder="When were you most upset or angry?" />
    </Section>
  );
}

function ValuesSelect() {
  return (
    <Section title="Build Your Values">
      <p>Select 3–6 Values or add your own.</p>
      <input placeholder="Add a Value and press Enter" className="w-full border p-2 rounded" />
    </Section>
  );
}

function ValuesRoadTest() {
  return (
    <Section title="Step 2 of 6: Values Road Test">
      <p>If someone violates this Value, do you feel upset?</p>
      <div className="flex gap-4">
        <button className="border px-4 py-2">YES</button>
        <button className="border px-4 py-2">NO</button>
      </div>
    </Section>
  );
}

function PillarsDiscover() {
  return (
    <Section title="Step 3 of 6: Pillars — Discover">
      <textarea className="w-full border p-3 rounded" placeholder="When were you happiest and most YOU?" />
      <input placeholder="Add Pillar traits" className="w-full border p-2 rounded" />
    </Section>
  );
}

function PillarsRoadTest() {
  return (
    <Section title="Step 4 of 6: Pillars Road Test">
      <p>If this characteristic was removed, would you be a shell of yourself?</p>
      <div className="flex gap-4">
        <button className="border px-4 py-2">YES</button>
        <button className="border px-4 py-2">NO</button>
      </div>
    </Section>
  );
}

function InternalConflict() {
  return (
    <Section title="Internal Conflict & Choice">
      <p>When emotions arise, choose which Value or Pillar leads your response.</p>
    </Section>
  );
}

function IdealEmotion() {
  return (
    <Section title="Step 5 of 6: Ideal Emotion">
      <select className="w-full border p-2 rounded">
        <option>Select your Ideal Emotion</option>
        <option>Calm</option>
        <option>Clear</option>
        <option>Peace</option>
        <option>Joy</option>
      </select>
      <input type="range" min="1" max="10" />
    </Section>
  );
}

function Trigger() {
  return (
    <Section title="Step 6 of 6: Trigger">
      <select className="w-full border p-2 rounded">
        <option>I’m not…</option>
        <option>Enough</option>
        <option>Seen</option>
        <option>Respected</option>
      </select>
      <textarea className="w-full border p-3 rounded" placeholder="Reset script..." />
    </Section>
  );
}

function Snapshot() {
  return (
    <Section title="Your WHO Snapshot">
      <p>Values, Pillars, Ideal Emotion, Trigger — all in one view.</p>
    </Section>
  );
}

function NextSteps() {
  return (
    <Section title="Next Step">
      <p>This week, lead with one Value and one Pillar.</p>
      <p className="italic">Make the World a Better Place*,</p>
      <p>Dana Lynn Bernstein</p>
    </Section>
  );
}
